import React, { useState, useEffect } from 'react';
import './index.css';
import {useNavigate } from 'react-router-dom'


const VerifierDashboard = () => {
  const [sidebarOpen, setSidebarOpen] = useState(true);
  const [applications, setApplications] = useState([]);

  useEffect(() => {
    fetch('https://deploy-backend-pca4.onrender.com/api/applications')
      .then(res => res.json())
      .then(data => setApplications(data))
      .catch(err => console.error('Error:', err));
  }, []);

  const navigate = useNavigate();

  const handleChange = (e) => {
    navigate(e.target.value);
  };

  return (
    <div className='veri'>
      <div className='heading'>
         <div className="main">
                <div className='mainhead'>
                <h1 className="tittle">Creditapp</h1>

                <header>
                  <button className="toggle-btn" onClick={() => setSidebarOpen(!sidebarOpen)}>
                    &#9776;
                  </button>
                
                 </header>
                  </div>
                
                <div className='last'>
                    <svg width="27" height="29" viewBox="0 0 27 29" className='o' fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.5 29C14.523 29 15.5041 28.6181 16.2274 27.9383C16.9508 27.2585 17.3571 26.3366 17.3571 25.3752H9.64286C9.64286 26.3366 10.0492 27.2585 10.7726 27.9383C11.4959 28.6181 12.477 29 13.5 29ZM15.4189 1.99341C15.4458 1.74141 15.4163 1.4869 15.3321 1.24629C15.2479 1.00569 15.111 0.784343 14.9302 0.596521C14.7494 0.408699 14.5287 0.258574 14.2824 0.155829C14.036 0.0530843 13.7695 0 13.5 0C13.2305 0 12.964 0.0530843 12.7176 0.155829C12.4713 0.258574 12.2506 0.408699 12.0698 0.596521C11.889 0.784343 11.7521 1.00569 11.6679 1.24629C11.5837 1.4869 11.5542 1.74141 11.5811 1.99341C9.40124 2.41009 7.44163 3.52192 6.03405 5.14065C4.62647 6.75938 3.85742 8.78552 3.85714 10.876C3.85714 12.866 2.89286 21.7504 0 23.5628H27C24.1071 21.7504 23.1429 12.866 23.1429 10.876C23.1429 6.48998 19.8257 2.82893 15.4189 1.99341Z" fill="#0A512F" fill-opacity="0.7"/>
        </svg>
        
                   <svg width="30" height="29" viewBox="0 0 30 29" className='o' fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M30 13.5956C30 21.1043 23.2838 27.1912 15 27.1912C13.5143 27.1933 12.0349 26.9935 10.5994 26.5969C9.50437 27.1718 6.99 28.275 2.76 28.9936C2.385 29.0558 2.1 28.6518 2.24813 28.2905C2.91188 26.6668 3.51188 24.5032 3.69187 22.5299C1.395 20.1409 0 17.0139 0 13.5956C0 6.08695 6.71625 0 15 0C23.2838 0 30 6.08695 30 13.5956ZM9.375 13.5956C9.375 13.0805 9.17746 12.5865 8.82582 12.2223C8.47419 11.858 7.99728 11.6534 7.5 11.6534C7.00272 11.6534 6.5258 11.858 6.17417 12.2223C5.82254 12.5865 5.625 13.0805 5.625 13.5956C5.625 14.1107 5.82254 14.6047 6.17417 14.969C6.5258 15.3332 7.00272 15.5378 7.5 15.5378C7.99728 15.5378 8.47419 15.3332 8.82582 14.969C9.17746 14.6047 9.375 14.1107 9.375 13.5956ZM16.875 13.5956C16.875 13.0805 16.6775 12.5865 16.3258 12.2223C15.9742 11.858 15.4973 11.6534 15 11.6534C14.5027 11.6534 14.0258 11.858 13.6742 12.2223C13.3225 12.5865 13.125 13.0805 13.125 13.5956C13.125 14.1107 13.3225 14.6047 13.6742 14.969C14.0258 15.3332 14.5027 15.5378 15 15.5378C15.4973 15.5378 15.9742 15.3332 16.3258 14.969C16.6775 14.6047 16.875 14.1107 16.875 13.5956ZM22.5 15.5378C22.9973 15.5378 23.4742 15.3332 23.8258 14.969C24.1775 14.6047 24.375 14.1107 24.375 13.5956C24.375 13.0805 24.1775 12.5865 23.8258 12.2223C23.4742 11.858 22.9973 11.6534 22.5 11.6534C22.0027 11.6534 21.5258 11.858 21.1742 12.2223C20.8225 12.5865 20.625 13.0805 20.625 13.5956C20.625 14.1107 20.8225 14.6047 21.1742 14.969C21.5258 15.3332 22.0027 15.5378 22.5 15.5378Z" fill="#0A512F" fill-opacity="0.7"/>
        </svg>
        
                   <svg width="32" height="33" viewBox="0 0 32 33" className='o' fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_37_238)">
        <path d="M15.9998 3.16669C8.63984 3.16669 2.6665 9.14002 2.6665 16.5C2.6665 23.86 8.63984 29.8334 15.9998 29.8334C23.3598 29.8334 29.3332 23.86 29.3332 16.5C29.3332 9.14002 23.3598 3.16669 15.9998 3.16669ZM15.9998 7.16669C18.2132 7.16669 19.9998 8.95335 19.9998 11.1667C19.9998 13.38 18.2132 15.1667 15.9998 15.1667C13.7865 15.1667 11.9998 13.38 11.9998 11.1667C11.9998 8.95335 13.7865 7.16669 15.9998 7.16669ZM15.9998 26.1C12.6665 26.1 9.71984 24.3934 7.99984 21.8067C8.03984 19.1534 13.3332 17.7 15.9998 17.7C18.6532 17.7 23.9598 19.1534 23.9998 21.8067C22.2798 24.3934 19.3332 26.1 15.9998 26.1Z" fill="#0A512F" fill-opacity="0.7"/>
        </g>
        <defs>
        <clipPath id="clip0_37_238">
        <rect width="32" height="32" fill="white" transform="translate(0 0.5)"/>
        </clipPath>
        </defs>
        </svg>
        
                    <select onChange={handleChange} defaultValue="">
                        <option value="" disabled>Select Page</option>
                        <option value="/dashboard">User</option>
                        <option value="/admindashboard">admin</option>
                        <option value="/verifierdashboard">verifier</option>
                    </select>
        
                </div>
                
              
        
        
            </div>
      </div>
    
    <div className="verifier-container">
      
      
      <div className={`sidebar ${sidebarOpen ? 'open' : 'collapsed'}`}>
        <div className='profile'>
              <svg width="45" height="46" viewBox="0 0 45 46" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_29_341)">
<path d="M22.5 4.25C12.15 4.25 3.75 12.65 3.75 23C3.75 33.35 12.15 41.75 22.5 41.75C32.85 41.75 41.25 33.35 41.25 23C41.25 12.65 32.85 4.25 22.5 4.25ZM22.5 9.875C25.6125 9.875 28.125 12.3875 28.125 15.5C28.125 18.6125 25.6125 21.125 22.5 21.125C19.3875 21.125 16.875 18.6125 16.875 15.5C16.875 12.3875 19.3875 9.875 22.5 9.875ZM22.5 36.5C17.8125 36.5 13.6688 34.1 11.25 30.4625C11.3063 26.7313 18.75 24.6875 22.5 24.6875C26.2313 24.6875 33.6938 26.7313 33.75 30.4625C31.3313 34.1 27.1875 36.5 22.5 36.5Z" fill="#ADCF1A"/>
</g>
<defs>
<clipPath id="clip0_29_341">
<rect width="45" height="45" fill="white" transform="translate(0 0.5)"/>
</clipPath>
</defs>
</svg>
<p>Vathan</p>
            </div>
        <ul>
          
          <li className='d'>Dashboard</li>
          <li>Loans</li>
          <li>Repayments</li>
          <li>Loan Parameters</li>
          <li>Accounting</li>
          <li>Reports</li>
          <li>Collateral</li>
          <li>Access Configuration</li>
          <li>Savings</li>
          <li>Expenses</li>
          <li>E-signature</li>
          <li>Investor Accounts</li>
          <li>Calendar</li>
          <li>Settings</li>
          <li>Sign Out</li>
        </ul>
      </div>

      <div className="main-content">
        <h1 className='dash'>DashBoard</h1>
        
        <section className="stats">
          <div className="stat">
            <div className='fig'>
            <svg width="36" height="26" viewBox="0 0 36 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M19.8 14.8149H18.9V9.07458C18.9 8.78626 18.6986 8.55273 18.45 8.55273H17.6861C17.4195 8.55273 17.1591 8.64406 16.9374 8.81562L16.0751 9.48228C16.0259 9.52025 15.9837 9.56909 15.9508 9.62601C15.9179 9.68292 15.895 9.74679 15.8834 9.81398C15.8718 9.88116 15.8718 9.95034 15.8832 10.0176C15.8947 10.0848 15.9175 10.1487 15.9502 10.2057L16.4497 11.0739C16.4825 11.131 16.5246 11.1799 16.5737 11.2181C16.6228 11.2562 16.6778 11.2828 16.7358 11.2962C16.7937 11.3097 16.8534 11.3098 16.9113 11.2965C16.9693 11.2832 17.0244 11.2568 17.0736 11.2187L17.1 11.1985V14.8149H16.2C15.9514 14.8149 15.75 15.0485 15.75 15.3368V16.3805C15.75 16.6688 15.9514 16.9023 16.2 16.9023H19.8C20.0486 16.9023 20.25 16.6688 20.25 16.3805V15.3368C20.25 15.0485 20.0486 14.8149 19.8 14.8149ZM34.2 0.203125H1.8C0.806062 0.203125 0 1.13789 0 2.29053V23.1646C0 24.3172 0.806062 25.252 1.8 25.252H34.2C35.1939 25.252 36 24.3172 36 23.1646V2.29053C36 1.13789 35.1939 0.203125 34.2 0.203125ZM2.7 22.1208V17.946C4.68844 17.946 6.3 19.8149 6.3 22.1208H2.7ZM2.7 7.50903V3.33423H6.3C6.3 5.64016 4.68844 7.50903 2.7 7.50903ZM18 20.0334C15.0176 20.0334 12.6 16.7621 12.6 12.7275C12.6 8.69233 15.0176 5.42163 18 5.42163C20.9824 5.42163 23.4 8.69233 23.4 12.7275C23.4 16.7634 20.9812 20.0334 18 20.0334ZM33.3 22.1208H29.7C29.7 19.8149 31.3116 17.946 33.3 17.946V22.1208ZM33.3 7.50903C31.3116 7.50903 29.7 5.64016 29.7 3.33423H33.3V7.50903Z" fill="white"/>
</svg></div>

            <h3 className='text'><span className='am'>50</span><br /> LOANS</h3></div>
          




          <div className="stat">
            <div className='fig'>
            <svg width="39" height="32" viewBox="0 0 39 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M38.0312 13.5461H26.4062C25.8734 13.5461 25.4375 13.9829 25.4375 14.5167V16.458C25.4375 16.9919 25.8734 17.4286 26.4062 17.4286H38.0312C38.5641 17.4286 39 16.9919 39 16.458V14.5167C39 13.9829 38.5641 13.5461 38.0312 13.5461ZM13.8125 16.458C18.0932 16.458 21.5625 12.9819 21.5625 8.69287C21.5625 4.40385 18.0932 0.927734 13.8125 0.927734C9.53184 0.927734 6.0625 4.40385 6.0625 8.69287C6.0625 12.9819 9.53184 16.458 13.8125 16.458ZM19.2375 18.3993H18.2264C16.8822 19.0181 15.3867 19.3699 13.8125 19.3699C12.2383 19.3699 10.7488 19.0181 9.39863 18.3993H8.3875C3.89492 18.3993 0.25 22.0513 0.25 26.5527V29.0764C0.25 30.684 1.55176 31.9883 3.15625 31.9883H24.4688C26.0732 31.9883 27.375 30.684 27.375 29.0764V26.5527C27.375 22.0513 23.7301 18.3993 19.2375 18.3993Z" fill="white"/>
</svg></div>

            <h3 className='text'><span className='am'>100</span><br />BORROWERS</h3></div>






          <div className="stat">
            <div className='fig'>
            <svg width="48" height="49" viewBox="0 0 48 49" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10 12.5H46V36.5H10V12.5ZM28 18.5C29.5913 18.5 31.1174 19.1321 32.2426 20.2574C33.3679 21.3826 34 22.9087 34 24.5C34 26.0913 33.3679 27.6174 32.2426 28.7426C31.1174 29.8679 29.5913 30.5 28 30.5C26.4087 30.5 24.8826 29.8679 23.7574 28.7426C22.6321 27.6174 22 26.0913 22 24.5C22 22.9087 22.6321 21.3826 23.7574 20.2574C24.8826 19.1321 26.4087 18.5 28 18.5ZM18 16.5C18 17.5609 17.5786 18.5783 16.8284 19.3284C16.0783 20.0786 15.0609 20.5 14 20.5V28.5C15.0609 28.5 16.0783 28.9214 16.8284 29.6716C17.5786 30.4217 18 31.4391 18 32.5H38C38 31.4391 38.4214 30.4217 39.1716 29.6716C39.9217 28.9214 40.9391 28.5 42 28.5V20.5C40.9391 20.5 39.9217 20.0786 39.1716 19.3284C38.4214 18.5783 38 17.5609 38 16.5H18ZM2 20.5H6V40.5H38V44.5H2V20.5Z" fill="white"/>
</svg></div>

            <h3 className='text'><span className='am'>550,000</span><br />CASH DISBURSED</h3></div>




            <div className="stat">
            <div className='fig'>
                <svg width="42" height="37" viewBox="0 0 42 37" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M40.8333 15.9702H38.6821C38.0404 14.5612 37.1071 13.3143 35.9549 12.2716L37.3331 6.95264H34.9997C32.8559 6.95264 30.96 7.90371 29.6766 9.36907C29.1224 9.29157 28.5755 9.20703 27.9994 9.20703H18.6657C13.0218 9.20703 8.31847 13.0818 7.23197 18.2246H4.08185C3.00264 18.2246 2.14948 17.2735 2.36824 16.1957C2.52866 15.3925 3.3089 14.843 4.15477 14.843H4.22768C4.46832 14.843 4.6652 14.6528 4.6652 14.4203V13.0113C4.6652 12.7788 4.46832 12.5886 4.22768 12.5886C2.14948 12.5886 0.297326 14.0258 0.0348159 16.0125C-0.28603 18.4219 1.65363 20.479 4.08185 20.479H6.99862C6.99862 24.1565 8.85078 27.3901 11.6655 29.4473V35.1326C11.6655 35.7525 12.1905 36.2598 12.8322 36.2598H17.499C18.1407 36.2598 18.6657 35.7525 18.6657 35.1326V31.751H27.9994V35.1326C27.9994 35.7525 28.5245 36.2598 29.1661 36.2598H33.833C34.4747 36.2598 34.9997 35.7525 34.9997 35.1326V29.4473C35.8601 28.8203 36.6258 28.0805 37.2821 27.2422H40.8333C41.4749 27.2422 42 26.7349 42 26.115V17.0974C42 16.4775 41.4749 15.9702 40.8333 15.9702ZM31.4996 20.479C30.8579 20.479 30.3329 19.9718 30.3329 19.3518C30.3329 18.7318 30.8579 18.2246 31.4996 18.2246C32.1413 18.2246 32.6663 18.7318 32.6663 19.3518C32.6663 19.9718 32.1413 20.479 31.4996 20.479ZM18.6657 6.95264H27.9994C28.3932 6.95264 28.7797 6.98082 29.1588 7.009C29.1588 6.98786 29.1661 6.97377 29.1661 6.95264C29.1661 3.2188 26.0306 0.189453 22.1659 0.189453C18.3011 0.189453 15.1656 3.2188 15.1656 6.95264C15.1656 7.10058 15.2021 7.24148 15.2094 7.38943C16.3177 7.11467 17.4699 6.95264 18.6657 6.95264Z" fill="white"/>
</svg>

</div>
    <h3 className='text'><span className='am'>450,000</span><br /> SAVINGS</h3>
            
            </div>





            <div className='stat' >
                    <div className='fig'>
              <svg width="43" height="34" viewBox="0 0 43 34" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.05 17C19.8001 17 23.65 13.1949 23.65 8.5C23.65 3.80508 19.8001 0 15.05 0C10.2998 0 6.45 3.80508 6.45 8.5C6.45 13.1949 10.2998 17 15.05 17ZM21.07 19.125H19.948C18.4564 19.8023 16.7969 20.1875 15.05 20.1875C13.3031 20.1875 11.6503 19.8023 10.152 19.125H9.02999C4.04468 19.125 0 23.1227 0 28.05V30.8125C0 32.5723 1.44453 34 3.225 34H26.875C28.6555 34 30.1 32.5723 30.1 30.8125V28.05C30.1 23.1227 26.0553 19.125 21.07 19.125ZM42.7715 10.5984L40.9037 8.73242C40.5947 8.42031 40.0908 8.42031 39.775 8.72578L32.7337 15.632L29.6767 12.5906C29.3676 12.2785 28.8637 12.2785 28.548 12.584L26.66 14.4367C26.3442 14.7422 26.3442 15.2402 26.6533 15.5523L32.1425 21.0176C32.4515 21.3297 32.9554 21.3297 33.2712 21.0242L42.7648 11.7141C43.0739 11.402 43.0806 10.9039 42.7715 10.5984Z" fill="white"/>
</svg>
</div>
<h3 className='text'><span className='am'>30</span><br /> REPAY LOANS</h3>
            </div>




           <div className="stat">
            <div className='fig'>
            <svg width="36" height="26" viewBox="0 0 36 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M19.8 14.8149H18.9V9.07458C18.9 8.78626 18.6986 8.55273 18.45 8.55273H17.6861C17.4195 8.55273 17.1591 8.64406 16.9374 8.81562L16.0751 9.48228C16.0259 9.52025 15.9837 9.56909 15.9508 9.62601C15.9179 9.68292 15.895 9.74679 15.8834 9.81398C15.8718 9.88116 15.8718 9.95034 15.8832 10.0176C15.8947 10.0848 15.9175 10.1487 15.9502 10.2057L16.4497 11.0739C16.4825 11.131 16.5246 11.1799 16.5737 11.2181C16.6228 11.2562 16.6778 11.2828 16.7358 11.2962C16.7937 11.3097 16.8534 11.3098 16.9113 11.2965C16.9693 11.2832 17.0244 11.2568 17.0736 11.2187L17.1 11.1985V14.8149H16.2C15.9514 14.8149 15.75 15.0485 15.75 15.3368V16.3805C15.75 16.6688 15.9514 16.9023 16.2 16.9023H19.8C20.0486 16.9023 20.25 16.6688 20.25 16.3805V15.3368C20.25 15.0485 20.0486 14.8149 19.8 14.8149ZM34.2 0.203125H1.8C0.806062 0.203125 0 1.13789 0 2.29053V23.1646C0 24.3172 0.806062 25.252 1.8 25.252H34.2C35.1939 25.252 36 24.3172 36 23.1646V2.29053C36 1.13789 35.1939 0.203125 34.2 0.203125ZM2.7 22.1208V17.946C4.68844 17.946 6.3 19.8149 6.3 22.1208H2.7ZM2.7 7.50903V3.33423H6.3C6.3 5.64016 4.68844 7.50903 2.7 7.50903ZM18 20.0334C15.0176 20.0334 12.6 16.7621 12.6 12.7275C12.6 8.69233 15.0176 5.42163 18 5.42163C20.9824 5.42163 23.4 8.69233 23.4 12.7275C23.4 16.7634 20.9812 20.0334 18 20.0334ZM33.3 22.1208H29.7C29.7 19.8149 31.3116 17.946 33.3 17.946V22.1208ZM33.3 7.50903C31.3116 7.50903 29.7 5.64016 29.7 3.33423H33.3V7.50903Z" fill="white"/>
</svg></div>

            <h3 className='text'><span className='am'>50</span><br /> LOANS</h3></div>
        </section>

        <section className="loan-table">
          <h3>Applied Loans</h3>
          <table>
            <thead>
              <tr>
                <th>Customer Name</th>
                <th>Date</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              {applications.map((app, index) => (
                <tr key={index}>
                  <td>{app.fullName}</td>
                  <td>{new Date(app.createdAt).toLocaleDateString()}</td>
                  <td><button className="action-btn">Review</button></td>
                </tr>
              ))}
            </tbody>
          </table>
        </section>
      </div>
    </div>
    </div>
  );
};

export default VerifierDashboard;